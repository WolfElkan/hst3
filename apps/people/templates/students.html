<!DOCTYPE html>
<html>
<head>
	<title>HST | Registration</title>
	{% load staticfiles %}
	<link rel="icon" type="image/png" href="{% static 'main/images/favicon.ico/favicon.ico' %}">
	<script src="{% static 'main/js/jquery.js' %}" charset="utf-8"></script>
	<script src="{% static 'main/js/script.js' %}" charset="utf-8"></script>
	<script type="text/javascript">
		var family_last = '{{family.last}}'
		var reg_year = Number('{{reg_year}}')
		validations = custom_parse("{{validations}}")
		students_from_db = custom_parse ("{{students}}")
	</script>
	<script src="{% static 'people/js/students.js' %}" charset="utf-8"></script>
	<link rel="stylesheet" type="text/css" href="{% static 'main/css/style.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'people/css/style.css' %}">
</head>
<body id="students" class="public">
	<img id="logo" src="//www.hstonline.org/wp-content/uploads/2017/05/cropped-cropped-HST-LOGO-10.png">
	<a href="/">Home</a>
	<h1>New Family Registration</h1>
	<h2>Step 3: Students Information</h2>
	<p class="instructions">Click the Add Student button to register your students for the {{reg_year|add:-1}}-{{reg_year}} school year with HST.  (You will sign them up for their classes on the next screen.)  Fields in <b>bold</b> are required.  Leave placeholders in other fields if they are the same as the Family. </p>
	<p> Note: Information will <i>not</i> be preserved if you refresh this page.</p>
	<div>
		<div id="student_list_div">
			<table id="student_list">
				<thead>
					<th>Name</th>
					<th>Age</th>
					<th>Sex</th>
					<th>Grade</th>
					<th>T-Shirt</th>
					<th>Phone</th>
					<th>Email</th>
					<th></th>
				</thead>
			</table>
			<button id="add_student">Add Student</button>
		</div>
		<div id="student_form_div">
			<h3 id="student_form_type">&nbsp;</h3>
			<table id="student_form">
				<tr><td><b>First Name:</b></td>
					<td><input type="text" name="first" id="first"></td>
					<td class="error" id="first_error"></td>
				</tr>
				<tr><td>Last Name:</td>
					<td><input type="text" name="alt_last" id="alt_last" placeholder="{{family.last}}"></td>
					<td class="error" id="alt_last_error"></td>
				</tr>
				<tr><td>Nickname:</td>
					<td><input type="text" name="alt_first" id="alt_first"></td>
					<td class="error" id="alt_first_error"></td>
				</tr>
				<tr><td><b>Sex:</b></td>
					<td>
						<select name="sex" id="sex">
							<option></option>
							<option value="M">Male</option>
							<option value="F">Female</option>
							<!-- <option value="H">Some wierd-ass hippy crap</option> -->
						</select>
					</td>
					<td class="error" id="sex_error"></td>
				</tr>
				<tr><td><b>Birthday:</b></td>
					<td>
						<input class="native_birthday" type="date" name="birthday" id="birthday" placeholder="YYYY-MM-DD">
						<div class="manual_birthday">
							<select class="mds" id="manual_month" name="month">
								<option value="00"></option>
								<option value="01">Jan</option>
								<option value="02">Feb</option>
								<option value="03">Mar</option>
								<option value="04">Apr</option>
								<option value="05">May</option>
								<option value="06">Jun</option>
								<option value="07">Jul</option>
								<option value="08">Aug</option>
								<option value="09">Sep</option>
								<option value="10">Oct</option>
								<option value="11">Nov</option>
								<option value="12">Dec</option>
							</select>
							<select class="mds" id="manual_date" name="date">
								<option value="00"></option>
								<option value="01">1</option>
								<option value="02">2</option>
								<option value="03">3</option>
								<option value="04">4</option>
								<option value="05">5</option>
								<option value="06">6</option>
								<option value="07">7</option>
								<option value="08">8</option>
								<option value="09">9</option>
								<option value="10">10</option>
								<option value="11">11</option>
								<option value="12">12</option>
								<option value="13">13</option>
								<option value="14">14</option>
								<option value="15">15</option>
								<option value="16">16</option>
								<option value="17">17</option>
								<option value="18">18</option>
								<option value="19">19</option>
								<option value="20">20</option>
								<option value="21">21</option>
								<option value="22">22</option>
								<option value="23">23</option>
								<option value="24">24</option>
								<option value="25">25</option>
								<option value="26">26</option>
								<option value="27">27</option>
								<option value="28">28</option>
								<option value="29">29</option>
								<option value="30">30</option>
								<option value="31">31</option>
							</select>
							<select class="mds" id="manual_year" name="year">
								<option value="0000"></option>
								<option value="{{reg_year|add:-19}}">{{reg_year|add:-19}}</option>
								<option value="{{reg_year|add:-18}}">{{reg_year|add:-18}}</option>
								<option value="{{reg_year|add:-17}}">{{reg_year|add:-17}}</option>
								<option value="{{reg_year|add:-16}}">{{reg_year|add:-16}}</option>
								<option value="{{reg_year|add:-15}}">{{reg_year|add:-15}}</option>
								<option value="{{reg_year|add:-14}}">{{reg_year|add:-14}}</option>
								<option value="{{reg_year|add:-13}}">{{reg_year|add:-13}}</option>
								<option value="{{reg_year|add:-12}}">{{reg_year|add:-12}}</option>
								<option value="{{reg_year|add:-11}}">{{reg_year|add:-11}}</option>
								<option value="{{reg_year|add:-10}}">{{reg_year|add:-10}}</option>
								<option value="{{reg_year|add:-9}}">{{reg_year|add:-9}}</option>
							</select>
						</div>
						<span class="static_birthday" title="Student birthdays cannot be edited.  Please email HST if it was entered incorrectly."></span>
					</td>
					<td class="error" id="birthday_error"></td>
				</tr>
				<tr><td>Grade:</td>
					<td>
						<select name="grad_year" id="grad_year">
							<option></option>
							{% for g in grades %}
							<option value="{{g.grad_year}}" id="{{g.grad_year}}">{{g.grade}}</option>
							{% endfor %}
						</select>
					</td>
					<td class="error" id="grad_year_error"></td>
				</tr>
				<tr><td>T-Shirt Size:</td>
					<td>
						<select type="text" name="tshirt" id="tshirt">
							<option></option>
							{% for size in t_shirt_sizes %}
							<option value="{{size.no0}}" id="{{size.no0}}">{{size.no1}}</option>
							{% endfor %}
						</select>
					</td>
					<td class="error" id="tshirt_error"></td>
				</tr>
				<tr><td>Personal Phone:</td>
					<td><input type="text" name="alt_phone" id="alt_phone" placeholder="Use Family Phone"></td>
					<td class="error" id="alt_phone_error"></td>
				</tr>
				<tr><td>Personal Email:</td>
					<td><input type="email" name="alt_email" id="alt_email" placeholder="Use Family Email"></td>
					<td class="error" id="alt_email_error"></td>
				</tr>
				<tr><td>Special Needs<br>or Allergies:</td>
					<td><textarea name="needs" id="needs" placeholder="None"></textarea></td>
					<td class="error" id="alt_email_error"></td>
				</tr>
			</table>
			<br><button id="save_student">Save</button>
			<button id="cancel">Cancel</button>
		</div>
	</div>
	<span class="footnote" style="display: none;">*HST calculates ages as of December 31 of the current academic year ({{reg_year|add:-1}}-{{reg_year}})</span>
	<form id="submission" style="display: none;" method="post">{% csrf_token %}
		<input id="data" type="hidden" name="students" value="">
	</form>
	<button style="display: none;" id="submit">Save &amp; Continue</button>
	<button class="close" onclick="hst()">Close</button>
</body>
</html>
