from .widgets import VarChar, Integer, Enum, Radio, Checkbox, Date, Time, ForeignKey, ForeignSet, ToggleSet
from Utils.custom_fields import Bcrypt, PhoneNumber, ZipCode, DayOfWeek

FIELDS = {
	'address'   : [
		{'field':'line1'     , 'template': VarChar(50)},
		{'field':'line2'     , 'template': VarChar(50)},
		{'field':'city'      , 'template': VarChar(25)},
		{'field':'state'     , 'template': VarChar(2)},
		{'field':'zipcode'   , 'template': ZipCode()},
	],
	'family'    : [
		{'field':'last'      , 'template': VarChar(30)},
		{'field':'phone'     , 'template': PhoneNumber()},
		{'field':'phone_type', 'template': Enum('','Home','Cell','Work')},
		{'field':'email'     , 'template': VarChar(254)},
		{'field':'mother'    , 'template': ForeignKey()},
		{'field':'father'    , 'template': ForeignKey()},
		{'field':'address'   , 'template': ForeignKey()},
		{'field':'children'  , 'template': ForeignSet()},
	],
	'parent'    : [
		{'field':'first'     , 'template': VarChar(20)},
		{'field':'family'    , 'template': ForeignKey()},
		{'field':'alt_last'  , 'template': VarChar(30)},
		{'field':'sex'       , 'template': Enum('M','F')},
		{'field':'alt_phone' , 'template': PhoneNumber()},
		{'field':'phone_type', 'template': Enum('','Home','Cell','Work')},
		{'field':'alt_email' , 'template': VarChar(254)},
	],
	'student'   : [
		{'field':'first'     , 'template': VarChar(20)},
		{'field':'middle'    , 'template': VarChar(20)},
		{'field':'alt_first' , 'template': VarChar(20)},
		{'field':'family'    , 'template': ForeignKey()},
		{'field':'alt_last'  , 'template': VarChar(30)},
		{'field':'sex'       , 'template': Enum('M','F')},
		{'field':'current'   , 'template': Checkbox('Student is currently in HST')},
		{'field':'birthday'  , 'template': Date()},
		{'field':'grad_year' , 'template': Integer()},
		{'field':'height'    , 'template': Integer('inches')},
		{'field':'alt_phone' , 'template': PhoneNumber()},
		{'field':'alt_email' , 'template': VarChar(254)},
		{'field':'tshirt'    , 'template': Enum('','YS','YM','YL','XS','AS','AM','AL','XL','2X','3X')},
		{'field':'courses'   , 'template': ForeignSet(widget_query='enrollments')},
	],
	'coursetrad': [
		{'field':'title'     , 'template': VarChar(50)},
		{'field':'e'         , 'template': Checkbox('This is a real (and currently offered) course that may be enrolled in, not a student group for admin purposes')},
		{'field':'day'       , 'template': DayOfWeek()},
		{'field':'start'     , 'template': Time()},
		{'field':'end'       , 'template': Time()},
		{'field':'nMeets'    , 'template': Integer()},
		{'field':'show'      , 'template': VarChar(2)},
		{'field':'vs'        , 'template': Checkbox('This class performs in the Variety Show')},
		{'field':'min_age'   , 'template': Integer()},
		{'field':'max_age'   , 'template': Integer()},
		{'field':'min_grd'   , 'template': Integer()},
		{'field':'max_grd'   , 'template': Integer()},
		{'field':'M'         , 'template': Checkbox('Boys may enroll')},
		{'field':'F'         , 'template': Checkbox('Girls may enroll')},
		{'field':'C'         , 'template': Checkbox('Only current students may enroll')},
		{'field':'I'         , 'template': Checkbox('Students must complete 1 year of Tap or Irish Soft Shoe to enroll')},
		{'field':'A'         , 'template': Radio([
			'No audition or acting class required',
			'Students must pass a skills assessment (or have already taken this class) to enroll',
			'1 year of Acting A or B required to enroll',
			'1 year of Acting A or B required to audition',
			'1 year of Acting and 1 year of Troupe required to audition',
		])},
		{'field':'tuition'   , 'template': Integer()},
		{'field':'redtuit'   , 'template': Integer()},
		{'field':'vol_hours' , 'template': Integer()},
		{'field':'the_hours' , 'template': Integer()},
		{'field':'prepaid'   , 'template': Checkbox('Families must purchase 10 prepaid tickets for $100, not included in tuition')},
		{'field':'courses'   , 'template': ForeignSet()},
	],
	'course'    : [
		{'field':'year'      , 'template': Integer()},
		{'field':'last_date' , 'template': Date()},
		{'field':'tuition'   , 'template': Integer()},
		{'field':'vol_hours' , 'template': Integer()},
		{'field':'the_hours' , 'template': Integer()},
		{'field':'prepaid'   , 'template': Checkbox()},
		{'field':'teacher'   , 'template': ForeignKey()},
		{'field':'tradition' , 'template': ForeignKey()},
		{'field':'aud_date'  , 'template': Date()},
		{'field':'students'  , 'template': ForeignSet(widget_query='enrollments')},
	],
	'enrollment': [
		{'field':'student'   , 'template': ForeignKey()},
		{'field':'course'    , 'template': ForeignKey()},
		{'field':'role'      , 'template': VarChar(0)},
		{'field':'role_type' , 'template': Enum('','Chorus','Support','Lead')},
	],
}